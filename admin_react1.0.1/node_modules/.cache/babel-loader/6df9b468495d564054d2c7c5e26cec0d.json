{"ast":null,"code":"var _jsxFileName = \"D:\\\\\\u684C\\u9762\\\\\\u9700\\u8981\\u6574\\u7406\\u6587\\u4EF6\\\\react\\\\admin_react1.0.1\\\\src\\\\routes\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport { Navigate, Route, Routes } from 'react-router-dom';\nimport { useSelector } from \"react-redux\";\nimport Login from '../pages/Login/index';\nimport LayOut from '../LayOut/index';\nimport routeItemNavList from '../units/useRouteItems';\nimport combineData from '../units/useCombineData';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet a = false;\nlet routes = [{\n  path: '/',\n  token: true,\n  element: /*#__PURE__*/_jsxDEV(LayOut, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 15\n  }, this) //   children:[\n  //     {\n  //         path:'/home',\n  //         token:true,\n  //         element:<Home></Home>,\n  //     }\n  //   ]\n\n}, {\n  path: '/login',\n  element: /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 17\n  }, this)\n}, {\n  path: '*',\n  element: /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"404\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 17\n  }, this)\n}]; //创建单个路由组件\n\nfunction ItemRoute(list, isToken) {\n  if (isToken) {\n    a = true;\n  }\n\n  console.log(isToken, 99955556663);\n  return list.map((item, index) => {\n    return /*#__PURE__*/_jsxDEV(Route, {\n      path: item.path,\n      element: item.token && !a ? /*#__PURE__*/_jsxDEV(Navigate, {\n        to: \"/login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 67\n      }, this) : item.element,\n      children: item.children ? ItemRoute(item.children) : ''\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 19\n    }, this);\n  });\n} //创建路由表\n\n\n_c = ItemRoute;\n\nfunction AddRouteList() {\n  _s();\n\n  let isToken = useSelector(state => {\n    console.log('数据还在吗？', state.navListReducer);\n    return state.navListReducer.token;\n  });\n  let navlist = useSelector(state => {\n    if (state.navListReducer.navList && state.navListReducer.navList > 0) {\n      return state.navListReducer.navList;\n    } else {\n      return state.navListReducer.navList.payload || false;\n    }\n  });\n\n  if (navlist) {\n    routes[0].children = combineData(routeItemNavList(navlist));\n  }\n\n  console.log(routes, 999998889);\n  return /*#__PURE__*/_jsxDEV(Routes, {\n    children: ItemRoute(routes, isToken)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 12\n  }, this);\n}\n\n_s(AddRouteList, \"wwCb2IVr3Hv6LI5v7OwTSGFOB28=\", false, function () {\n  return [useSelector, useSelector];\n});\n\n_c2 = AddRouteList;\nexport default AddRouteList;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ItemRoute\");\n$RefreshReg$(_c2, \"AddRouteList\");","map":{"version":3,"names":["Navigate","Route","Routes","useSelector","Login","LayOut","routeItemNavList","combineData","a","routes","path","token","element","ItemRoute","list","isToken","console","log","map","item","index","children","AddRouteList","state","navListReducer","navlist","navList","payload"],"sources":["D:/桌面/需要整理文件/react/admin_react1.0.1/src/routes/index.js"],"sourcesContent":["import { Navigate, Route,Routes} from 'react-router-dom'\r\nimport { useSelector } from \"react-redux\";\r\nimport Login from '../pages/Login/index'\r\nimport LayOut from '../LayOut/index'\r\nimport routeItemNavList from '../units/useRouteItems'\r\nimport combineData from '../units/useCombineData'\r\n\r\n\r\n\r\nlet a = false\r\n\r\nlet routes=[\r\n    {\r\n      path:'/',\r\n      token:true,\r\n      element:<LayOut></LayOut>,\r\n    //   children:[\r\n    //     {\r\n    //         path:'/home',\r\n    //         token:true,\r\n    //         element:<Home></Home>,\r\n    //     }\r\n    //   ]\r\n    },\r\n    {\r\n        path:'/login',\r\n        element:<Login></Login>,\r\n    },\r\n    {\r\n        path:'*',\r\n        element:<div>404</div>\r\n    }\r\n]\r\n\r\n//创建单个路由组件\r\nfunction ItemRoute(list,isToken){\r\n     if(isToken){\r\n        a = true\r\n     }\r\n    console.log(isToken,99955556663);\r\n    return (\r\n        list.map((item,index)=>{\r\n           return <Route path={item.path} element={item.token&&!a?<Navigate to='/login'></Navigate>:item.element} key={index}>\r\n              {item.children?ItemRoute(item.children):''}\r\n           </Route>\r\n        })\r\n    )\r\n}\r\n\r\n//创建路由表\r\n\r\nfunction AddRouteList(){\r\n    let isToken=useSelector(state=>{\r\n        \r\n        console.log('数据还在吗？',state.navListReducer);\r\n        \r\n        return  state.navListReducer.token\r\n    })\r\n    let navlist=useSelector(state=>{\r\n        if(state.navListReducer.navList && state.navListReducer.navList>0){\r\n            return state.navListReducer.navList\r\n        }else{\r\n            return state.navListReducer.navList.payload || false\r\n        }\r\n    })\r\n    if(navlist){\r\n        routes[0].children=combineData(routeItemNavList(navlist))\r\n    }\r\n    console.log(routes,999998889);\r\n    return <Routes>\r\n        {ItemRoute(routes,isToken)}\r\n    </Routes>\r\n}\r\n\r\nexport default AddRouteList"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,KAAnB,EAAyBC,MAAzB,QAAsC,kBAAtC;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,OAAOC,KAAP,MAAkB,sBAAlB;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,OAAOC,gBAAP,MAA6B,wBAA7B;AACA,OAAOC,WAAP,MAAwB,yBAAxB;;AAIA,IAAIC,CAAC,GAAG,KAAR;AAEA,IAAIC,MAAM,GAAC,CACP;EACEC,IAAI,EAAC,GADP;EAEEC,KAAK,EAAC,IAFR;EAGEC,OAAO,eAAC,QAAC,MAAD;IAAA;IAAA;IAAA;EAAA,QAHV,CAIA;EACA;EACA;EACA;EACA;EACA;EACA;;AAVA,CADO,EAaP;EACIF,IAAI,EAAC,QADT;EAEIE,OAAO,eAAC,QAAC,KAAD;IAAA;IAAA;IAAA;EAAA;AAFZ,CAbO,EAiBP;EACIF,IAAI,EAAC,GADT;EAEIE,OAAO,eAAC;IAAA;EAAA;IAAA;IAAA;IAAA;EAAA;AAFZ,CAjBO,CAAX,C,CAuBA;;AACA,SAASC,SAAT,CAAmBC,IAAnB,EAAwBC,OAAxB,EAAgC;EAC3B,IAAGA,OAAH,EAAW;IACRP,CAAC,GAAG,IAAJ;EACF;;EACFQ,OAAO,CAACC,GAAR,CAAYF,OAAZ,EAAoB,WAApB;EACA,OACID,IAAI,CAACI,GAAL,CAAS,CAACC,IAAD,EAAMC,KAAN,KAAc;IACpB,oBAAO,QAAC,KAAD;MAAO,IAAI,EAAED,IAAI,CAACT,IAAlB;MAAwB,OAAO,EAAES,IAAI,CAACR,KAAL,IAAY,CAACH,CAAb,gBAAe,QAAC,QAAD;QAAU,EAAE,EAAC;MAAb;QAAA;QAAA;QAAA;MAAA,QAAf,GAAiDW,IAAI,CAACP,OAAvF;MAAA,UACHO,IAAI,CAACE,QAAL,GAAcR,SAAS,CAACM,IAAI,CAACE,QAAN,CAAvB,GAAuC;IADpC,GAAqGD,KAArG;MAAA;MAAA;MAAA;IAAA,QAAP;EAGF,CAJD,CADJ;AAOH,C,CAED;;;KAdSP,S;;AAgBT,SAASS,YAAT,GAAuB;EAAA;;EACnB,IAAIP,OAAO,GAACZ,WAAW,CAACoB,KAAK,IAAE;IAE3BP,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAqBM,KAAK,CAACC,cAA3B;IAEA,OAAQD,KAAK,CAACC,cAAN,CAAqBb,KAA7B;EACH,CALsB,CAAvB;EAMA,IAAIc,OAAO,GAACtB,WAAW,CAACoB,KAAK,IAAE;IAC3B,IAAGA,KAAK,CAACC,cAAN,CAAqBE,OAArB,IAAgCH,KAAK,CAACC,cAAN,CAAqBE,OAArB,GAA6B,CAAhE,EAAkE;MAC9D,OAAOH,KAAK,CAACC,cAAN,CAAqBE,OAA5B;IACH,CAFD,MAEK;MACD,OAAOH,KAAK,CAACC,cAAN,CAAqBE,OAArB,CAA6BC,OAA7B,IAAwC,KAA/C;IACH;EACJ,CANsB,CAAvB;;EAOA,IAAGF,OAAH,EAAW;IACPhB,MAAM,CAAC,CAAD,CAAN,CAAUY,QAAV,GAAmBd,WAAW,CAACD,gBAAgB,CAACmB,OAAD,CAAjB,CAA9B;EACH;;EACDT,OAAO,CAACC,GAAR,CAAYR,MAAZ,EAAmB,SAAnB;EACA,oBAAO,QAAC,MAAD;IAAA,UACFI,SAAS,CAACJ,MAAD,EAAQM,OAAR;EADP;IAAA;IAAA;IAAA;EAAA,QAAP;AAGH;;GArBQO,Y;UACOnB,W,EAMAA,W;;;MAPPmB,Y;AAuBT,eAAeA,YAAf"},"metadata":{},"sourceType":"module"}